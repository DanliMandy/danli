<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>猜谜语</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/layui.css" media="all">
    <link rel="stylesheet" href="css/layer.css" media="all">
    <script src= "jquery-3.3.1.min.js"></script>
    <style>
        body{
            background-color: #EEE;
        }
    </style>
</head>
<body>
<div id="nav">
    <ul class="layui-nav">
        <li class="layui-nav-item layui-this"><a href="index.html">首页</a></li>
        <li class="layui-nav-item">
            <a href="javascript:;">积分商城</a>
            <dl class="layui-nav-child">
                <dd><a href="">大转盘</a></dd>
                <dd><a href="">积分兑换</a></dd>
            </dl>
        </li>

        <li class="layui-nav-item">
            <a href="javascript:;">个人中心</a>
            <dl class="layui-nav-child">
                <dd class="layui-this"><a href="">个人资料</a></dd>
                <dd><a href="">修改密码</a></dd>
            </dl>
        </li>
        <div class="LoginandGegister">
            <button id = "login" class="layui-btn layui-btn-primary layui-btn-radius layui-btn-sm">登录</button>
            <span>&nbsp;|&nbsp;</span>
            <button id = "register" class="layui-btn layui-btn-primary layui-btn-radius layui-btn-sm">注册</button>
        </div>
    </ul>

</div>
<div id="main">
    <div id = top>
        <div id="question" class="layui-anim" data-anim="layui-anim-scaleSpring"></div>
    </div>

    <div class="cells">
        <div id="s0" class="cell"></div>
        <div id="s1" class="cell"></div>
        <div id="s2" class="cell"></div>
        <div id="s3" class="cell"></div>
    </div>
    <div class="words">
        <div id="w0" class="word"></div>
        <div id="w1" class="word"></div>
        <div id="w2" class="word"></div>
        <div id="w3" class="word"></div>
        <div id="w4" class="word"></div>
        <div id="w5" class="word"></div>
        <div id="w6" class="word"></div>
        <div id="w7" class="word"></div>
        <div id="w8" class="word"></div>
    </div>
</div>


</body>
<script src="layui.js"></script>
<script src="layer.js"></script>
<script>
    layui.use('element', function(){
        var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

        //监听导航点击
        element.on('nav(demo)', function(elem){
            //console.log(elem)
            layer.msg(elem.text());
        });
    });

    $(function () {
        $('#login').on('click', function(){
            layer.open({
                type: 2,
                title: '用户登录',
                maxmin: true,
                skin: 'layui-layer-lan',
                shadeClose: true, //点击遮罩关闭层
                area : ['400px' , '280px'],
                content:'login.html'//弹框显示的url
            });
            $('#loginBtn').click(function () {
            var username = $.trim($("#username").val());//获取用户名
            var password = $.trim($("#password").val());
            var validateCode = $.trim($("#validateCode").val());

            var url = '登录请求的url路径';
            var param = {"username": username, "password": password, "validateCode": validateCode};

            $.post(url, param, function(data) {
                if (data == "0") {
                    //调用父窗口的function addPersonalCenter(){}方法，在父窗口右上角增加一个个人中心按钮
                    window.parent.addPersonalCenter();
                    // 先获取窗口索引，才能关闭窗口
                    var index = parent.layer.getFrameIndex(window.name);
                    parent.layer.close(index);
                } else {
                    alert("登录失败！");
                }
            });
        });
    })
    });
</script>
<script src="main.js"></script>
<script src="login.js"></script>
</html>